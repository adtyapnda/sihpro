<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Krishi Sakhi - Farming Assistant</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, sans-serif;
            background: #f8f9fa;
            color: #333;
            line-height: 1.5;
        }
        
        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            background: white;
            padding: 25px;
            border-radius: 8px;
            border: 1px solid #e9ecef;
        }
        
        .header h1 {
            font-size: 1.8rem;
            font-weight: 400;
            color: #333;
            margin-bottom: 5px;
        }
        
        .header p {
            font-size: 0.9rem;
            color: #666;
        }
        
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            border: 1px solid #e9ecef;
        }
        
        .card h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1rem;
            font-weight: 500;
        }
        
        .weather-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 15px 0;
        }
        
        .temp {
            font-size: 2rem;
            font-weight: 300;
            color: #333;
        }
        
        .weather-details {
            text-align: right;
            font-size: 0.85rem;
            color: #666;
        }
        
        .alert {
            background: #f8f9fa;
            padding: 12px;
            border-radius: 6px;
            margin: 12px 0;
            border-left: 3px solid #ffc107;
            font-size: 0.85rem;
        }
        
        .price-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #f1f3f4;
            font-size: 0.9rem;
        }
        
        .price-item:last-child {
            border-bottom: none;
        }
        
        .price-search {
            margin-bottom: 15px;
        }
        
        .price-search input {
            width: 70%;
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 0.9rem;
        }
        
        .price-search button {
            padding: 8px 15px;
            background: #333;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            margin-left: 8px;
            font-size: 0.9rem;
        }
        
        .price-search button:hover {
            background: #555;
        }
        
        .price-result {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 6px;
            margin: 10px 0;
            font-size: 0.9rem;
            border-left: 3px solid #28a745;
        }
        
        .activity-item {
            background: #f8f9fa;
            padding: 12px;
            margin-bottom: 10px;
            border-radius: 6px;
            font-size: 0.85rem;
        }
        
        .activity-item:last-child {
            margin-bottom: 0;
        }
        
        .status-indicator {
            display: inline-block;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .status-good { background: #28a745; }
        .status-warning { background: #ffc107; }
        .status-danger { background: #dc3545; }
        
        .btn {
            padding: 10px 16px;
            background: #333;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            display: block;
            width: 100%;
            margin-bottom: 8px;
        }
        
        .btn:hover {
            background: #555;
        }
        
        .emergency-btn {
            background: #dc3545;
            margin-top: 10px;
        }
        
        .emergency-btn:hover {
            background: #c82333;
        }
        
        .chat-container {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
            border: 1px solid #e9ecef;
        }
        
        .chat-messages {
            height: 250px;
            overflow-y: auto;
            border: 1px solid #e9ecef;
            border-radius: 6px;
            padding: 15px;
            margin-bottom: 15px;
            background: #fafbfc;
        }
        
        .message {
            margin-bottom: 12px;
            padding: 10px 12px;
            border-radius: 6px;
            max-width: 80%;
            font-size: 0.9rem;
        }
        
        .user-message {
            background: #333;
            color: white;
            margin-left: auto;
        }
        
        .ai-message {
            background: #f8f9fa;
            color: #333;
            border: 1px solid #e9ecef;
        }
        
        .chat-input {
            display: flex;
            gap: 10px;
        }
        
        .chat-input input {
            flex: 1;
            padding: 10px 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 0.9rem;
        }
        
        .chat-input input:focus {
            outline: none;
            border-color: #333;
        }
        
        .btn-voice {
            background: #28a745;
            width: auto;
            margin-bottom: 0;
        }
        
        .btn-voice:hover {
            background: #218838;
        }
        
        @media (max-width: 768px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
            
            .price-search input {
                width: 60%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Krishi Sakhi</h1>
            <p>AI Farming Assistant Prototype</p>
        </div>

        <div class="dashboard">
            <!-- Weather Widget -->
            <div class="card">
                <h3>Weather Forecast</h3>
                <div class="weather-info">
                    <div class="temp">28Â°C</div>
                    <div class="weather-details">
                        <div>Partly Cloudy</div>
                        <div>Humidity: 75%</div>
                        <div>Wind: 12 km/h</div>
                    </div>
                </div>
                <div class="alert">
                    Heavy rain expected tomorrow. Avoid fertilizer application.
                </div>
            </div>

            <!-- Pest Alerts -->
            <div class="card">
                <h3>Pest & Disease Alerts</h3>
                <div class="activity-item">
                    <span class="status-indicator status-warning"></span>
                    <strong>Brown Plant Hopper</strong> reported 2km away in coconut farms
                </div>
                <div class="activity-item">
                    <span class="status-indicator status-danger"></span>
                    <strong>Bacterial Blight</strong> detected in nearby rice fields
                </div>
                <div class="activity-item">
                    <span class="status-indicator status-good"></span>
                    Your pepper crops show no signs of disease
                </div>
                <button class="btn emergency-btn">Report New Pest</button>
            </div>

            <!-- Market Prices with Search -->
            <div class="card">
                <h3>Market Price Lookup</h3>
                <div class="price-search">
                    <input type="text" id="vegetableInput" placeholder="Enter vegetable name...">
                    <button onclick="searchPrice()">Get Price</button>
                </div>
                <div id="priceResult"></div>
                
                <h4 style="margin: 15px 0 10px 0; font-size: 0.9rem; color: #666;">Current Prices:</h4>
                <div class="price-item">
                    <span>Coconut (per 1000 nuts)</span>
                    <span>â‚¹15,500</span>
                </div>
                <div class="price-item">
                    <span>Black Pepper (per kg)</span>
                    <span>â‚¹520</span>
                </div>
                <div class="price-item">
                    <span>Rice (per quintal)</span>
                    <span>â‚¹2,100</span>
                </div>
                <div class="price-item">
                    <span>Cardamom (per kg)</span>
                    <span>â‚¹1,200</span>
                </div>
            </div>

            <!-- AI Recommendations -->
            <div class="card">
                <h3>Today's Recommendations</h3>
                <div class="activity-item">
                    <strong>Irrigation:</strong> Pepper plants need watering in 2 days
                </div>
                <div class="activity-item">
                    <strong>Harvest:</strong> Coconuts ready for harvest in 15 days
                </div>
                <div class="activity-item">
                    <strong>Alert:</strong> PM-KISAN payment of â‚¹2,000 credited to account
                </div>
            </div>

            <!-- Farm Status -->
            <div class="card">
                <h3>Farm Status Overview</h3>
                <div class="activity-item">
                    <span class="status-indicator status-good"></span>
                    <strong>Coconut Plantation:</strong> Healthy, next harvest in 15 days
                </div>
                <div class="activity-item">
                    <span class="status-indicator status-warning"></span>
                    <strong>Pepper Vines:</strong> Need irrigation in 2 days
                </div>
                <div class="activity-item">
                    <span class="status-indicator status-good"></span>
                    <strong>Rice Field:</strong> Growing well, flowering stage
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="card">
                <h3>Quick Actions</h3>
                <button class="btn" onclick="logActivity()">Log Farm Activity</button>
                <button class="btn" onclick="checkSchemes()">Government Schemes</button>
                <button class="btn" onclick="connectExpert()">Connect with Expert</button>
                <button class="btn emergency-btn">Emergency Support</button>
            </div>
        </div>

        <!-- Chat Interface -->
        <div class="chat-container">
            <h3>Chat Assistant</h3>
            <div class="chat-messages" id="chatMessages">
                <div class="message ai-message">
                    <strong>Assistant:</strong> Hello! I'm here to help with your farming questions. What would you like to know?
                </div>
            </div>
            <div class="chat-input">
                <input type="text" id="chatInput" placeholder="Ask your farming question...">
                <button class="btn" onclick="sendMessage()">Send</button>
                <button class="btn btn-voice" onclick="startVoice()">ðŸŽ¤ Voice</button>
            </div>
        </div>

        <!-- Activity Log -->
        <div class="chat-container">
            <h3>Recent Farm Activities</h3>
            <div id="activityLog">
                <div class="activity-item">
                    <strong>Today:</strong> Applied organic fertilizer to coconut trees - 50kg compost
                </div>
                <div class="activity-item">
                    <strong>Yesterday:</strong> Irrigated pepper plantation - 2 hours drip irrigation
                </div>
                <div class="activity-item">
                    <strong>2 days ago:</strong> Harvested 200kg coconuts - sold at â‚¹15,200 per 1000 nuts
                </div>
            </div>
        </div>
    </div>

    <script>
        // Sample vegetable prices database
        const vegetablePrices = {
            'tomato': { price: 45, unit: 'per kg' },
            'onion': { price: 35, unit: 'per kg' },
            'potato': { price: 25, unit: 'per kg' },
            'carrot': { price: 40, unit: 'per kg' },
            'cabbage': { price: 20, unit: 'per kg' },
            'cauliflower': { price: 30, unit: 'per kg' },
            'brinjal': { price: 35, unit: 'per kg' },
            'okra': { price: 50, unit: 'per kg' },
            'spinach': { price: 25, unit: 'per kg' },
            'cucumber': { price: 30, unit: 'per kg' },
            'capsicum': { price: 60, unit: 'per kg' },
            'ginger': { price: 120, unit: 'per kg' },
            'garlic': { price: 80, unit: 'per kg' },
            'chili': { price: 100, unit: 'per kg' },
            'coriander': { price: 40, unit: 'per bunch' }
        };

        function searchPrice() {
            const input = document.getElementById('vegetableInput');
            const vegetable = input.value.toLowerCase().trim();
            const resultDiv = document.getElementById('priceResult');
            
            if (!vegetable) {
                resultDiv.innerHTML = '<div style="color: #dc3545; font-size: 0.85rem;">Please enter a vegetable name</div>';
                return;
            }
            
            let price, unit;
            
            if (vegetablePrices[vegetable]) {
                price = vegetablePrices[vegetable].price;
                unit = vegetablePrices[vegetable].unit;
            } else {
                // Generate random price for unknown vegetables
                price = Math.floor(Math.random() * 100) + 20;
                unit = 'per kg';
            }
            
            // Add some random variation (Â±10%)
            const variation = (Math.random() - 0.5) * 0.2;
            price = Math.floor(price * (1 + variation));
            
            resultDiv.innerHTML = `
                <div class="price-result">
                    <strong>${vegetable.charAt(0).toUpperCase() + vegetable.slice(1)}:</strong> â‚¹${price} ${unit}
                    <div style="font-size: 0.8rem; color: #666; margin-top: 3px;">Current market rate</div>
                </div>
            `;
            
            input.value = '';
        }

        const aiResponses = [
            "That's a great question! Let me help you with that farming concern.",
            "Based on current conditions, I recommend checking soil moisture before proceeding.",
            "Your crops are looking good! Continue with the current care routine.",
            "Weather conditions are favorable for this activity today.",
            "Consider applying organic methods for better long-term results."
        ];

        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (message) {
                addMessage(message, 'user');
                
                setTimeout(() => {
                    const randomResponse = aiResponses[Math.floor(Math.random() * aiResponses.length)];
                    addMessage(randomResponse, 'ai');
                }, 1000);
                
                input.value = '';
            }
        }

        function addMessage(text, sender) {
            const messagesContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}-message`;
            
            if (sender === 'user') {
                messageDiv.innerHTML = `<strong>You:</strong> ${text}`;
            } else {
                messageDiv.innerHTML = `<strong>Assistant:</strong> ${text}`;
            }
            
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function startVoice() {
            alert('Voice input feature (demo mode)');
        }

        function logActivity() {
            const activity = prompt("Enter farm activity:");
            if (activity) {
                const activityLog = document.getElementById('activityLog');
                const newActivity = document.createElement('div');
                newActivity.className = 'activity-item';
                newActivity.innerHTML = `<strong>Just now:</strong> ${activity}`;
                activityLog.insertBefore(newActivity, activityLog.firstChild);
            }
        }

        function checkSchemes() {
            alert('Available Government Schemes:\nâ€¢ PM-KISAN: â‚¹6,000/year\nâ€¢ Soil Health Card: Free soil testing\nâ€¢ Crop Insurance: Available\nâ€¢ Debt Relief Programs');
        }

        function connectExpert() {
            alert('Connecting to agricultural expert... Please wait.');
        }

        // Enable Enter key for chat and price search
        document.getElementById('chatInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') sendMessage();
        });

        document.getElementById('vegetableInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') searchPrice();
        });
    </script>
</body>
</html>
